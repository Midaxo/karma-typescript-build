{"version":3,"file":"threshold.spec.js","sourceRoot":"","sources":["../../src/istanbul/threshold.spec.ts"],"names":[],"mappings":";;AAAA,wDAA0D;AAC1D,2BAA6B;AAE7B,yDAAwD;AACxD,yCAAwC;AAExC,IAAM,WAAW,GAAQ,EAAE,qBAAqB,EAAE,EAAE,eAAe,EAAE,EAAE,SAAS,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;AAErG,IAAM,aAAa,GAAG,IAAI,6BAAa,CAAC,EAAE,CAAC,CAAC;AAC5C,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;AAEtC,IAAM,YAAY,GAAG;IACjB,kBAAkB,EAAE,gBAAgB,CAAC,kBAAkB,CAAC,kBAAkB,CAAC;CAC9E,CAAC;AACF,IAAM,WAAW,GAAG,gBAAgB,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;AAErE,IAAI,CAAC,uBAAuB,EAAE,UAAC,CAAC;IAE5B,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAEV,IAAM,SAAS,GAAG,IAAI,qBAAS,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;IAErD,IAAM,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;IAElD,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACnB,CAAC,CAAC,CAAC","sourcesContent":["import * as istanbulCoverage from \"istanbul-lib-coverage\";\r\nimport * as test from \"tape\";\r\n\r\nimport { Configuration } from \"../shared/configuration\";\r\nimport { Threshold } from \"./threshold\";\r\n\r\nconst karmaConfig: any = { karmaTypescriptConfig: { coverageOptions: { threshold: { file: {} } } } };\r\n\r\nconst configuration = new Configuration({});\r\nconfiguration.initialize(karmaConfig);\r\n\r\nconst fileCoverage = {\r\n    \"path/to/coverage\": istanbulCoverage.createFileCoverage(\"path/to/coverage\")\r\n};\r\nconst coverageMap = istanbulCoverage.createCoverageMap(fileCoverage);\r\n\r\ntest(\"threshold should pass\", (t) => {\r\n\r\n    t.plan(1);\r\n\r\n    const threshold = new Threshold(configuration, null);\r\n\r\n    const passed = threshold.check(null, coverageMap);\r\n\r\n    t.true(passed);\r\n});\r\n"]}